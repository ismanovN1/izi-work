import View from 'components/custom-components/View';
import { useAppDispatch, useAppSelector } from 'hooks';
import * as React from 'react';
import { SVGProps } from 'react';
import { add_remove_my_favorite_vacancy_thunk } from 'store/action-store/action-thunk';

const FavoriteIcon = (props: SVGProps<SVGSVGElement> & { vacancy_id?: string }) => {
  const dispatch = useAppDispatch();
  const { vacancy_id } = props;
  const { favorite_vacancies_ids } = useAppSelector((s) => s.vacancies);

  const is_favorite = favorite_vacancies_ids.includes(vacancy_id);

  return (
    <View
      class_name="pointer"
      onClick={() => {
        dispatch(add_remove_my_favorite_vacancy_thunk({ vacancy_id, is_favorite: !is_favorite }));
      }}
    >
      <svg width={31} height={30} fill="none" xmlns="http://www.w3.org/2000/svg" {...props}>
        {is_favorite && (
          <path
            d="M20 9.5L15.5 1L10 9.5L1.5 11.5L7 19.5L7.5 28L15 25.5L23.5 28L23 18.5L28.5 11.5L20 9.5Z"
            fill="#FF5050"
          />
        )}
        <path
          d="M25.376 26.881c0 2.378-2.406 3.835-4.427 2.745-1.88-1.006-3.732-2.059-5.593-3.102-.244-.14-.422-.14-.667 0-1.86 1.043-3.722 2.087-5.592 3.102a2.998 2.998 0 0 1-4.202-1.429c-.253-.564-.3-1.156-.206-1.758.357-2.218.714-4.445 1.09-6.663.047-.301.01-.517-.226-.743a381.964 381.964 0 0 1-4.7-4.85c-1.484-1.56-.958-4.07 1.006-4.878.414-.17.884-.226 1.335-.3 1.936-.31 3.863-.602 5.8-.894.244-.037.356-.14.46-.347.902-1.955 1.833-3.901 2.735-5.856C12.743.686 13.683 0 15.019 0c1.334 0 2.264.696 2.819 1.908.902 1.946 1.814 3.882 2.716 5.827.104.226.235.32.489.358 2.105.31 4.22.639 6.326.977 1.212.188 2.086.855 2.48 2.02.405 1.176.132 2.247-.732 3.15l-4.681 4.821c-.179.179-.235.348-.188.592.366 2.247.733 4.484 1.09 6.73.02.188.028.395.038.498Zm1.616-14.775c-.15-.038-.244-.056-.329-.075-2.086-.33-4.163-.677-6.25-.987-1.165-.179-1.983-.77-2.481-1.833-.902-1.946-1.814-3.882-2.716-5.827a14.18 14.18 0 0 0-.198-.405c-.094.18-.15.292-.207.405-.92 1.964-1.832 3.928-2.754 5.883-.46.969-1.222 1.57-2.274 1.749-1.42.235-2.848.441-4.277.658-.808.122-1.607.253-2.481.385.14.15.244.263.348.367 1.513 1.579 3.036 3.158 4.558 4.737.724.752 1.015 1.654.856 2.678-.273 1.786-.583 3.563-.865 5.34-.094.572-.179 1.146-.273 1.775.179-.093.292-.15.404-.216 1.805-.996 3.619-1.983 5.424-2.98 1.024-.563 2.049-.573 3.082 0 1.063.593 2.134 1.185 3.196 1.777.846.47 1.692.94 2.566 1.429 0-.132.01-.226 0-.31-.357-2.218-.705-4.446-1.062-6.664-.178-1.11.094-2.059.884-2.867.582-.592 1.165-1.194 1.738-1.795 1.015-1.062 2.05-2.124 3.111-3.224Z"
          fill="#fff"
        />
      </svg>
    </View>
  );
};

export default React.memo(FavoriteIcon);
